<div ng-controller="dottyGridController">

  <div class="toolControls">
    <div>
      <button
        class="btn btn-{{tool.type}} {{tool.active}}"
        style="margin-right:10px;"
        ng-repeat="tool in toolset"
        ng-click="toolCheck(tool)"
        ng-disabled="{{!tool.enabled}}">
        <i class="fa fa-{{tool.icon}}"></i> {{tool.label}}
      </button>
    </div>

  </div>

  <svg
    class="dotty-grid"
    ng-attr-height="{{svgHeight()}}"
    ng-attr-width="{{svgWidth()}}"
  >
    <g ng-attr-transform="{{transform()}}">
      <polygon ng-repeat="p in polygons" ng-attr-class="{{polyClass(p)}}" ng-click="polyToggle(p)"
        ng-attr-points="{{polyPoints(p)}}">
      </polygon>
      <polygon ng-repeat="p in visipolys" class="visipoly"
        ng-attr-points="{{polyPoints(p)}}">
      </polygon>
      <g ng-repeat="row in grid.rows" >
        <line ng-repeat="dot in row" ng-dblclick="visiDraw(dot)"  ng-click="dotClick(dot)"
          ng-attr-x1="{{dot.x}}"
          ng-attr-x2="{{dot.x}}"
          ng-attr-y1="{{dot.y}}"
          ng-attr-y2="{{dot.y}}"
          ng-class="classHash(dot)"
        ></line>
      </g>
    </g>
  </svg>

</div>
